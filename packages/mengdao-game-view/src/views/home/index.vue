<template>
  <div class="page-root" :class="{ 'desktop-container': isDesktop, 'mobile-container': isMobile }">
    <SimpleCursorTrail />
    <div class="content-container">
      <DesktopHeader v-if="isDesktop" ref="desktopHeaderRef" />
      <MobileHeader v-if="isMobile" ref="mobileHeaderRef" />
      <section class="hero">
        <h1>
          <img class="hero-left" :src="imageList.hero.titleLeft.url" />
          æ­¡è¿ä¾†åˆ°èŒå¤¢å³¶
          <img class="hero-right" :src="imageList.hero.titleRight.url" />
        </h1>
        <p>
          <span class="dots-left">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </span>
          æœ€æ£’çš„æ¥“ä¹‹è°·é«”é©—ï¼Œç­‰ä½ ä¾†æ¢ç´¢å¯æ„›çš„å†’éšªä¸–ç•Œ
          <span class="dots-right">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </span>
        </p>
      </section>
      <section class="story-section">
        <div class="story-image-container">
          <img :src="imageList.gameInfo.url" alt="èŒå¤¢å³¶æ•…äº‹" class="story-image pc-only" />
          <img :src="imageList.gameInfo.url" alt="èŒå¤¢å³¶æ•…äº‹" class="story-image mobile-only" />
        </div>
      </section>

      <section class="login-image-section">
        <div class="login-image-container">
          <img :src="imageList.gameView.url" alt="ç™»å…¥ä»‹ç´¹" class="login-image pc-only" />
          <img :src="imageList.gameView.url" alt="ç™»å…¥ä»‹ç´¹" class="login-image mobile-only" />
        </div>
      </section>
      <section class="features">
        <div v-for="item in imageList.features" :key="item.url" class="feature-card">
          <div class="feature-header">
            <div class="feature-icon">
              <img :src="item.url" />
            </div>
            <div class="feature-title">{{ item.title }}</div>
          </div>
          <div class="feature-text">{{ item.text }}</div>
        </div>
      </section>

      <section class="section" id="news">
        <h2>
          <img class="title-icon" :src="imageList.hIcon.url" />
          <span> æœ€æ–°æ¶ˆæ¯</span>
          <img class="title-icon" :src="imageList.hIcon.url" />
        </h2>
        <div class="news-item">
          <div class="date">2025-07-01</div>
          <p>æš‘æœŸæ´»å‹¤å§‹!æš‘æœŸæ´»å‹•é–‹å§‹ï¼å®Œæˆä»»å‹™å³å¯ç²å¾—è¶…ç´š è±åšçå‹µï¼!</p>
        </div>
        <div class="news-item">
          <div class="date">2025-07-01</div>
          <p>ä¼ºæœå™¨å„ªåŒ–å®Œæˆï¼ŒéŠæˆ²é«”é©—æ›´åŠ æµæš¢ç©©å®šï¼Œå¦‚çµ²èˆ¬é †æ»‘ï¼ˆå¤§é™¸ç›´é€£ï¼‰å…åŠ é€Ÿå™¨~</p>
        </div>
        <div class="news-item">
          <div class="date">2025-07-01</div>
          <p>èŒèè°·æ­£å¼æœ!æ­‰è¿æ‰€æœ‰å‹‡è€…åŠ å…¥æˆ‘ä»¬çš„ç²‰å½©å†’é™©æ—…ç¨‹!</p>
        </div>
      </section>

      <section class="section download-section" id="download">
        <h2>
          <img class="title-icon" :src="imageList.hIcon.url" />
          <span>ä¸‹è¼‰å°ˆå€</span>
          <img class="title-icon" :src="imageList.hIcon.url" />
        </h2>
        <div class="download-buttons">
          <button class="common-button1">
            <span class="btn-icon">
              <img :src="imageList.games.icon1" />
            </span>
            <span class="btn-text">éŠæˆ²ä¸»ç¨‹åºä¸‹è¼‰</span>
          </button>
          <button class="common-button1">
            <span class="btn-icon">
              <img :src="imageList.games.icon2" />
            </span>
            <span class="btn-text">ç™»å…¥å™¨ä¸‹è¼‰</span>
          </button>
        </div>
      </section>

      <section class="section community-section" id="community">
        <h2>
          <img class="title-icon" :src="imageList.hIcon.url" />
          <span>åŠ å…¥æˆ‘å€‘çš„ç¤¾ç¾¤</span>
          <img class="title-icon" :src="imageList.hIcon.url" />
        </h2>
        <div class="community-buttons">
          <button class="common-button1">
            <span class="btn-icon">
              <img :src="imageList.community.icon1" />
            </span>
            <span class="btn-text">QQèŠå¤©å€</span>
          </button>
          <button class="common-button1">
            <span class="btn-icon">
              <img :src="imageList.community.icon1" />
            </span>
            <span class="btn-text">åŠ å…¥Discord</span>
          </button>

          <button class="common-button1">
            <span class="btn-icon">
              <img :src="imageList.community.icon1" />
            </span>
            <span class="btn-text">åŠ å…¥KOOK</span>
          </button>
          <button class="common-button1">
            <span class="btn-icon">
              <img :src="imageList.community.icon2" />
            </span>
            <span class="btn-text">è´ŠåŠ©æ”¯æŒ</span>
          </button>
        </div>
      </section>

      <!-- æµ‹è¯•ç‰¹æ•ˆæŒ‰é’® -->
      <!-- <section class="section test-section">
        <h2>ğŸŒŸ ç‰¹æ•ˆæµ‹è¯• ğŸŒŸ</h2>
        <div class="test-buttons">
          <button class="common-button1" @click="testCursorTrail">
            <span class="btn-icon">ğŸ’–</span>
            <span class="btn-text">æµ‹è¯•çˆ±å¿ƒè·Ÿéšç‰¹æ•ˆ</span>
          </button>
          <router-link to="/cursor-test" class="common-button1" style="text-decoration: none">
            <span class="btn-icon">ğŸ§ª</span>
            <span class="btn-text">è¿›å…¥æµ‹è¯•é¡µé¢</span>
          </router-link>
        </div>
      </section> -->
    </div>
  </div>
</template>
<script lang="ts" setup>
  import { ref, computed, onMounted, watch } from 'vue'
  import { useNavigation } from '@/hooks/useNavigation'
  import { useResponsiveScale } from '@/composables/useResponsiveScale'
  import { useHeaderHeight } from '@/composables/useHeaderHeight'
  import DesktopHeader from './components/desktop-header.vue'
  import MobileHeader from './components/mobile-header.vue'
  import SimpleCursorTrail from '@/components/cursor-trail/SimpleCursorTrail.vue'
  import { imageList } from './imageUrl'

  const { isDesktop, isMobile } = useResponsiveScale()

  // ä½¿ç”¨å¤´éƒ¨é«˜åº¦ç®¡ç†
  const { desktopHeaderRef, mobileHeaderRef, currentHeaderHeight, measureHeaderHeight } =
    useHeaderHeight()

  // æµ‹è¯•é¼ æ ‡è·Ÿéšç‰¹æ•ˆ
  const testCursorTrail = () => {
    console.log('ğŸ’– æµ‹è¯•çˆ±å¿ƒè·Ÿéšç‰¹æ•ˆ')
    alert(
      'è¯·ç§»åŠ¨é¼ æ ‡æŸ¥çœ‹å¯çˆ±çš„çˆ±å¿ƒè·Ÿéšæ•ˆæœï¼ğŸ’– å¦‚æœæ²¡æœ‰çœ‹åˆ°æ•ˆæœï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ã€‚'
    )
  }
</script>
<style lang="scss" scoped>
  @import './responsive-styles.scss';

  .page-root {
    // min-height: 100vh;
    // padding-top å°†é€šè¿‡ JavaScript åŠ¨æ€è®¾ç½®
  }

  // è®¾å¤‡ç‰¹å®šæ˜¾ç¤ºç±»
  .mobile-only {
    display: none;
  }

  .pc-only {
    display: block;
  }
  .common-button1 {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 20px;
    background: linear-gradient(135deg, #ffeefa 0%, #dcf1ff 100%);
    border: none;
    border-radius: 15px;
    color: #8b7b8b;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(200, 200, 200, 0.3);
    position: relative;
    overflow: hidden;
    color: #8b4b9c;
    font-weight: bold;

    &:before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s ease;
    }

    &:hover {
      background: linear-gradient(135deg, #ffc7dc 0%, #bee6ff 100%);
      color: #8b4b9c;
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 199, 220, 0.4);
    }

    &:hover:before {
      left: 100%;
    }

    .btn-icon {
      font-size: 20px;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
      transition: all 0.3s ease;
    }

    &:hover .btn-icon {
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
    }

    .btn-text {
      white-space: nowrap;
      transition: all 0.3s ease;
    }
  }
</style>
